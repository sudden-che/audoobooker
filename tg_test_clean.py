import re

text = """–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—é Google –æ—à—Ç—Ä–∞—Ñ–æ–≤–∞–ª–∏ –Ω–∞ 22 –º–ª–Ω —Ä—É–±–ª–µ–π. –ü—Ä–∏—á–∏–Ω–∞ ‚Äì —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ VPN-—Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ –º–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Google Play. –û–±—â–∞—è —Å—É–º–º–∞ —à—Ç—Ä–∞—Ñ–æ–≤ –¥–ª—è Google —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 91,5 –∫–≤–∏–Ω—Ç–∏–ª–ª–∏–æ–Ω–∞ –∏ —Ç–µ–ø–µ—Ä—å –µ—â—ë 22 –º–ª–Ω —Ä—É–±–ª–µ–π. ‚Äî –ë–∞–Ω–∫—Å—Ç–∞ (https://t.me/banksta/88259)
 
–î—Ä—É–≥–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:
‚ñ™Ô∏è–°—É–¥ –ø—Ä–∏–∑–Ω–∞–ª Google –≤–∏–Ω–æ–≤–Ω—ã–º –ø–æ —à–µ—Å—Ç–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º –∑–∞ –Ω–µ—É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ ‚Äî –î–æ–∂–¥—å (https://t.me/tvrain/101339), Frank Media (https://t.me/frank_media/21142), –ö–æ–º–º–µ—Ä—Å–∞–Ω—Ç—ä (https://t.me/kommersant/101999)
‚ñ™Ô∏è–†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä –≤—ã—è–≤–∏–ª —à–µ—Å—Ç—å —Å–ª—É—á–∞–µ–≤ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è VPN –∏ –Ω–∞–ø—Ä–∞–≤–∏–ª –ø—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏–µ ‚Äî The Moscow Times (https://t.me/moscowtimes_ru/42811)
‚ñ™Ô∏è–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å Google –≤ —Å—É–¥ –Ω–µ —è–≤–∏–ª—Å—è ‚Äî The Moscow Times (https://t.me/moscowtimes_ru/42811)

–ù–æ–≤–æ—Å—Ç–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ. –ü—Ä–∞–≤–¥–∏–≤–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è. –°–µ–∫—Ü–∏—è —Å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª—å—é.

üëÅÔ∏è503,6K
üåé–î–æ–∂–¥—å (https://t.me/tvrain/101339) ‚Ä¢ ASTRA (https://t.me/astrapress/105333) ‚Ä¢ The Moscow Times (https://t.me/moscowtimes_ru/42811)
‚öñÔ∏è–ë–∞—Ä—Ä–µ–ª—å —á–µ—Ä–Ω–æ–π –∏–∫—Ä—ã (https://t.me/banki_oil/44102) ‚Ä¢ Frank Media (https://t.me/frank_media/21142) ‚Ä¢ –ú–æ—Å–∫–≤–∞ —Å –æ–≥–æ–Ω—å–∫–æ–º (https://t.me/moscowtop/64943) ‚Ä¢ –ö–æ–º–º–µ—Ä—Å–∞–Ω—Ç—ä (https://t.me/kommersant/101999) ‚Ä¢ –ö–ö (https://t.me/petrovtel/77061) ‚Ä¢ –ë–∞–Ω–∫—Å—Ç–∞ (https://t.me/banksta/88259) ‚Ä¢ –ù—å—é—Å–∞—á/–î–≤–∞—á (https://t.me/ru2ch/164784)
üá∑üá∫–¢–ê–°–° (https://t.me/tass_agency/362679) ‚Ä¢ –ú–æ—Å–∫–≤–∞ 24 (https://t.me/infomoscow24/107071) ‚Ä¢ –†–∞–Ω—å—à–µ –≤—Å–µ—Ö. –ù—É –ø–æ—á—Ç–∏. (https://t.me/bbbreaking/225278) ‚Ä¢ –°–ò–ì–ù–ê–õ (https://t.me/ssigny/169088)

‚è±Ô∏è–¢–ê–°–° (https://t.me/tass_agency/362679), 12:20 MSK"""

def clean_tg_post(text: str) -> str:
    # 1. –û—Ç—Ä–µ–∑–∞–µ–º –≤—Å—ë, –Ω–∞—á–∏–Ω–∞—è —Å "–ù–æ–≤–æ—Å—Ç–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
    idx = text.find("–ù–æ–≤–æ—Å—Ç–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏")
    if idx != -1:
        text = text[:idx]
    
    # 2. –£–±–∏—Ä–∞–µ–º —Å—Å—ã–ª–∫–∏ –≤ —Å–∫–æ–±–∫–∞—Ö –∏ –±–µ–∑ (https://...)
    # –£–±–∏—Ä–∞–µ–º –≤—Å–µ (https://...)
    text = re.sub(r'\(\s*https?://[^\s)]+\s*\)', '', text)
    # –£–±–∏—Ä–∞–µ–º —Å—Å—ã–ª–∫–∏ –±–µ–∑ —Å–∫–æ–±–æ–∫, –µ—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å
    text = re.sub(r'https?://[^\s]+', '', text)
    
    # 3. –£–±–∏—Ä–∞–µ–º –ø–æ–≤–∏—Å—à–∏–µ —Ç–∏—Ä–µ –∏ –∑–∞–ø—è—Ç—ã–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    text = re.sub(r'‚Äî\s*,\s*', '‚Äî ', text)
    text = re.sub(r',\s*(?=\n|$)', '', text)
    
    return text.strip()

print("--- ORG ---")
print(text)
print("--- CLEAN ---")
print(clean_tg_post(text))
